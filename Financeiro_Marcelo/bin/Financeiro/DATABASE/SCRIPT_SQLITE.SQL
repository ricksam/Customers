/*[UPDATE]1*/
CREATE TABLE CAT_CATEGORIAS(
  CAT_CODIGO INTEGER NOT NULL,
  CAT_DESCRICAO VARCHAR(40),
  CAT_TIPO CHAR(1),
  CONSTRAINT PK_CAT_CODIGO PRIMARY KEY(CAT_CODIGO)
);

CREATE TABLE PLN_PLANOCONTAS(
  PLN_CODIGO INTEGER NOT NULL,
  PLN_CAT_CODIGO INTEGER,
  PLN_DESCRICAO VARCHAR(60),
  CONSTRAINT PK_PLN_CODIGO PRIMARY KEY(PLN_CODIGO),
  CONSTRAINT FK_PLN_CAT_CODIGO FOREIGN KEY (PLN_CAT_CODIGO) REFERENCES CAT_CATEGORIAS(CAT_CODIGO)
);

CREATE TABLE EMP_EMPRESAS(
  EMP_CODIGO INTEGER NOT NULL,
  EMP_DESCRICAO VARCHAR(60),
  CONSTRAINT PK_EMP_CODIGO PRIMARY KEY(EMP_CODIGO)
);

CREATE TABLE FRM_FORMULARIOS(
  FRM_CODIGO INTEGER NOT NULL,
  FRM_NUMERO INTEGER,
  FRM_EMP_CODIGO INTEGER,
  FRM_DATA DATE,
  FRM_TROCOINICIAL NUMERIC(15,4),
  FRM_TROCOFINAL NUMERIC(15,4),
  FRM_TOTRECEITAS NUMERIC(15,4),
  FRM_TOTDESPESAS NUMERIC(15,4),
  CONSTRAINT PK_FRM_CODIGO PRIMARY KEY (FRM_CODIGO),
  CONSTRAINT FK_FRM_EMP_CODIGO FOREIGN KEY(FRM_EMP_CODIGO) REFERENCES EMP_EMPRESAS(EMP_CODIGO)
);

CREATE TABLE FIN_FINANCEIRO(
  FIN_CODIGO INTEGER NOT NULL,
  FIN_CAT_CODIGO INTEGER,
  FIN_PLN_CODIGO INTEGER,
  FIN_EMP_CODIGO INTEGER,
  FIN_FRM_CODIGO INTEGER,
  FIN_DESCRICAO VARCHAR(200),
  FIN_VALOR NUMERIC(15,4),
  FIN_DATA DATE,
  FIN_HORA VARCHAR(5),
  FIN_CONFERENCIA BIT,
  CONSTRAINT PK_FIN_CODIGO PRIMARY KEY(FIN_CODIGO),
  CONSTRAINT FK_FIN_CAT_CODIGO FOREIGN KEY (FIN_CAT_CODIGO) REFERENCES CAT_CATEGORIAS (CAT_CODIGO),
  CONSTRAINT FK_FIN_PLN_CODIGO FOREIGN KEY (FIN_PLN_CODIGO) REFERENCES PLN_PLANOCONTAS (PLN_CODIGO),
  CONSTRAINT FK_FIN_EMP_CODIGO FOREIGN KEY (FIN_EMP_CODIGO) REFERENCES EMP_EMPRESAS (EMP_CODIGO),
  CONSTRAINT FK_FIN_FRM_CODIGO FOREIGN KEY (FIN_FRM_CODIGO) REFERENCES FRM_FORMULARIOS (FRM_CODIGO)
);

INSERT INTO CAT_CATEGORIAS (CAT_CODIGO,CAT_DESCRICAO,CAT_TIPO) VALUES (1,'VENDAS','R');
INSERT INTO CAT_CATEGORIAS (CAT_CODIGO,CAT_DESCRICAO,CAT_TIPO) VALUES (2,'FOLHA DE PAGAMENTO','D');
INSERT INTO CAT_CATEGORIAS (CAT_CODIGO,CAT_DESCRICAO,CAT_TIPO) VALUES (3,'IMPOSTOS','D');
INSERT INTO CAT_CATEGORIAS (CAT_CODIGO,CAT_DESCRICAO,CAT_TIPO) VALUES (4,'DESPESAS FIXAS','D');
INSERT INTO CAT_CATEGORIAS (CAT_CODIGO,CAT_DESCRICAO,CAT_TIPO) VALUES (5,'MERCADORIAS','D');

INSERT INTO EMP_EMPRESAS (EMP_CODIGO,EMP_DESCRICAO) VALUES (1,'BISTECÃO');
INSERT INTO EMP_EMPRESAS (EMP_CODIGO,EMP_DESCRICAO) VALUES (2,'HIPER');
INSERT INTO EMP_EMPRESAS (EMP_CODIGO,EMP_DESCRICAO) VALUES (3,'QUINZE');
INSERT INTO EMP_EMPRESAS (EMP_CODIGO,EMP_DESCRICAO) VALUES (4,'COSTELÃO');
INSERT INTO EMP_EMPRESAS (EMP_CODIGO,EMP_DESCRICAO) VALUES (5,'PIRACICABA');

INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (1,1,'DINHEIRO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (2,1,'TICKET');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (3,1,'CHEQUE');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (4,1,'CARTAO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (5,1,'OUTROS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (6,2,'ADIANTAMENTO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (7,2,'PAGAMENTO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (8,2,'VALE CARNE');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (9,2,'CAIXINHA');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (10,2,'COMISSÃO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (11,2,'FÉRIAS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (12,2,'QUITAÇÃO FUNCIONÁRIO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (13,2,'VALE TRANSPORTE/REFEIÇÃO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (14,2,'BICO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (15,2,'PRESENTE');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (16,2,'DIVERSOS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (17,3,'PIS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (18,3,'COFINS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (19,3,'ICMS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (20,3,'DAS PREST');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (21,3,'IRPF');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (22,3,'IRPJ');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (23,3,'CSSL');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (24,3,'FGTS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (25,3,'FGTS PREST');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (26,3,'GPS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (27,3,'GPS PREST');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (28,3,'SINDICATO EMPREGADOS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (29,3,'CONTRIBUIÇÃO SINDICAL');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (30,3,'TAXA CARTÃO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (31,4,'ALUGUEL');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (32,4,'CPFL');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (33,4,'SAAE');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (34,4,'TELEFONE FIXO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (35,4,'NEXTEL');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (36,4,'SERCON');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (37,4,'EMBALAGEM');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (38,4,'MANUTENÇÃO PREDIAL');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (39,4,'MANUTENÇÃO EQUIPAMENTOS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (40,4,'MANUTENÇÃO INFORMÁTICA');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (41,4,'MANUTENÇÃO REFRIGERAÇÃO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (42,4,'CUSTO ENTREGAS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (43,4,'PUBLICIDADES');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (44,4,'TAXA BANCÁRIAS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (45,4,'MATERIAL LIMPESA');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (46,4,'ADVOGADO ACORDO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (47,4,'DESPESAS ESCRITÓRIO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (48,4,'ESTACIONAMENTO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (49,4,'PAPELARIA ETIQUETAS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (50,4,'SEGURO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (51,4,'BRINDES');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (52,4,'DIVERSOS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (53,4,'SEGURANÇA');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (54,4,'DESPESAS BANCÁRIAS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (55,4,'LOMBAÇÃO');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (56,5,'COMPRA MERCADORIAS');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (57,4,'ALFACE');
INSERT INTO PLN_PLANOCONTAS (PLN_CODIGO,PLN_CAT_CODIGO,PLN_DESCRICAO) VALUES (58,2,'VALE REFEICAO');

/*[UPDATE]2*/
ALTER TABLE PLN_PLANOCONTAS ADD PLN_OBRIGA_DESCRICAO BIT;
ALTER TABLE PLN_PLANOCONTAS ADD PLN_PRIORIDADE INTEGER;
ALTER TABLE PLN_PLANOCONTAS ADD PLN_CONFERENCIA BIT;
UPDATE PLN_PLANOCONTAS SET PLN_CONFERENCIA = 1;
CREATE TABLE CFG_CONFIG(
  CFG_SENHA_ENTRADA VARCHAR(100),
  CFG_SENHA_EXCLUSIVA VARCHAR(100)
);
ALTER TABLE FRM_FORMULARIOS ADD FRM_BLOQUEADO BIT;
/*[UPDATE]3*/
CREATE TABLE BAL_BALANCO(
  BAL_CODIGO INTEGER NOT NULL,
  BAL_ANTERIOR INTEGER,
  BAL_ESTOQUE_INICIAL NUMERIC(15,4),
  BAL_ESTOQUE_FINAL NUMERIC(15,4),
  BAL_COMPRAS NUMERIC(15,4),
  BAL_CMV NUMERIC(15,4),
  CONSTRAINT PK_BAL_CODIGO PRIMARY KEY (BAL_CODIGO)
);
/*[UPDATE]4*/
ALTER TABLE BAL_BALANCO ADD BAL_DATA DATE;
/*[UPDATE]5*/
ALTER TABLE BAL_BALANCO ADD BAL_EMP_CODIGO INTEGER;
/*[UPDATE]6*/
ALTER TABLE BAL_BALANCO ADD BAL_INICIO DATE;
ALTER TABLE FIN_FINANCEIRO ADD FIN_EMISSAO DATE;
ALTER TABLE FRM_FORMULARIOS ADD FRM_NUMERO_CLIENTES INTEGER;
ALTER TABLE FRM_FORMULARIOS ADD FRM_VALOR_COMPARATIVO NUMERIC(15,4);
/*[UPDATE]7*/
CREATE TABLE CCN_CADASTRO_CONTAS(
  CCN_CODIGO INTEGER NOT NULL,
  CCN_EMP_CODIGO INTEGER,
  CCN_BANCO VARCHAR(60),
  CCN_AGENCIA VARCHAR(20),
  CCN_CONTA VARCHAR(20),
  CONSTRAINT PK_CCN_CODIGO PRIMARY KEY (CCN_CODIGO),
  CONSTRAINT FK_CCN_EMP_CODIGO FOREIGN KEY (CCN_EMP_CODIGO) REFERENCES EMP_EMPRESAS (EMP_CODIGO)
);

CREATE TABLE BCN_BAIXA_CONTAS(
  BCN_CODIGO INTEGER NOT NULL,
  BCN_CCN_CODIGO INTEGER,
  BCN_NUMERO_CHEQUE VARCHAR(20),
  BCN_VALOR NUMERIC(15,4),
  BCN_DATA_PGTO DATE,
  CONSTRAINT PK_BCN_CODIGO PRIMARY KEY (BCN_CODIGO),
  CONSTRAINT FK_BCN_CCN_CODIGO FOREIGN KEY (BCN_CCN_CODIGO) REFERENCES CCN_CADASTRO_CONTAS (CCN_CODIGO)
);

CREATE TABLE CPG_CONTAS_PAGAR(
  CPG_CODIGO INTEGER NOT NULL,  
  CPG_FIN_CODIGO INTEGER,
  CPG_EMP_CODIGO INTEGER,
  CPG_BCN_CODIGO INTEGER,
  CPG_DOCUMENTO VARCHAR(20),    
  CPG_VENCIMENTO DATE,
  CONSTRAINT PK_CPG_CODIGO PRIMARY KEY (CPG_CODIGO),
  CONSTRAINT FK_CPG_FIN_CODIGO FOREIGN KEY (CPG_FIN_CODIGO) REFERENCES FIN_FINANCEIRO (FIN_CODIGO),
  CONSTRAINT FK_CPG_EMP_CODIGO FOREIGN KEY (CPG_EMP_CODIGO) REFERENCES EMP_EMPRESAS (EMP_CODIGO),
  CONSTRAINT FK_CPG_BCN_CODIGO FOREIGN KEY (CPG_BCN_CODIGO) REFERENCES BCN_BAIXA_CONTAS (BCN_CODIGO)
);
/*[UPDATE]8*/
ALTER TABLE BCN_BAIXA_CONTAS ADD BCN_EMP_CODIGO INTEGER;
/*[UPDATE]9*/
CREATE TABLE USU_USUARIOS(
  USU_CODIGO INTEGER NOT NULL,
  USU_NOME VARCHAR(60),
  USU_SENHA VARCHAR(100),
  USU_ADMIN BIT,
  CONSTRAINT PK_USU_CODIGO PRIMARY KEY (USU_CODIGO)
);
CREATE TABLE ACS_ACESSO(
  ACS_CODIGO INTEGER NOT NULL,
  ACS_NOME VARCHAR(100),
  ACS_DESCRICAO VARCHAR(100),
  CONSTRAINT PK_ACS_CODIGO PRIMARY KEY (ACS_CODIGO)
);
CREATE TABLE ACU_ACESSO_USUARIO(
  ACU_ACS_CODIGO INTEGER NOT NULL,
  ACU_USU_CODIGO INTEGER NOT NULL,
  CONSTRAINT PK_ACU_ACS_USU_CODIGO PRIMARY KEY (ACU_ACS_CODIGO, ACU_USU_CODIGO),
  CONSTRAINT FK_ACU_ACS_CODIGO FOREIGN KEY (ACU_ACS_CODIGO) REFERENCES ACS_ACESSO (ACS_CODIGO),
  CONSTRAINT FK_ACU_USU_CODIGO FOREIGN KEY (ACU_USU_CODIGO) REFERENCES USU_USUARIOS (USU_CODIGO)
);
/*[UPDATE]10*/
CREATE TABLE VDA_VENDA(
  VDA_CODIGO INTEGER NOT NULL,
  VDA_EMPRESA VARCHAR(60),
  VDA_EMISSAO DATE,
  VDA_INICIO VARCHAR(8),
  VDA_OPERADOR VARCHAR(60),
  VDA_CUPONS INTEGER,
  VDA_TOTAL NUMERIC(15,4),
  VDA_FRM_CODIGO INTEGER,
  CONSTRAINT PK_VDA_CODIGO PRIMARY KEY (VDA_CODIGO)
);
/*[UPDATE]11*/
ALTER TABLE CPG_CONTAS_PAGAR ADD CPG_SEL BIT;
/*[UPDATE]12*/
ALTER TABLE VDA_VENDA ADD VDA_COD_OPERADOR INTEGER;
ALTER TABLE VDA_VENDA ADD VDA_CNPJ VARCHAR(20);
/*[UPDATE]13*/
ALTER TABLE FRM_FORMULARIOS ADD FRM_TOTCOMPRAS NUMERIC(15,4);
DELETE FROM VDA_VENDA WHERE VDA_COD_OPERADOR IS NULL;
/*[UPDATE]14*/
CREATE TABLE EML_EMAIL(
  EML_CODIGO INTEGER NOT NULL,
  EML_CONTATO VARCHAR(200),
  CONSTRAINT PK_EML_CODIGO PRIMARY KEY(EML_CODIGO)
);
ALTER TABLE EMP_EMPRESAS ADD EMP_DESCRICAO_ONLINE VARCHAR(60);
UPDATE EMP_EMPRESAS SET EMP_DESCRICAO_ONLINE = EMP_DESCRICAO;
/*[UPDATE]15*/
DROP TABLE EML_EMAIL;
CREATE TABLE EML_EMAIL(
  EML_CODIGO INTEGER NOT NULL,
  EML_CONTATO VARCHAR(200),
  CONSTRAINT PK_EML_CODIGO PRIMARY KEY(EML_CODIGO)
);
/*[UPDATE]16*/
ALTER TABLE BCN_BAIXA_CONTAS ADD BCN_COMPENSADO BIT;
ALTER TABLE BCN_BAIXA_CONTAS ADD BCN_DATA_COMPENSACAO DATE;
/*[UPDATE]17*/
ALTER TABLE FIN_FINANCEIRO ADD FIN_DATA_PGTO DATE; 
UPDATE FIN_FINANCEIRO SET FIN_DATA_PGTO = 
(
  SELECT BCN_DATA_PGTO FROM BCN_BAIXA_CONTAS 
  INNER JOIN CPG_CONTAS_PAGAR ON   
    CPG_BCN_CODIGO = BCN_CODIGO 
  WHERE
    CPG_FIN_CODIGO = FIN_CODIGO 
);
UPDATE FIN_FINANCEIRO SET FIN_DATA_PGTO = FIN_DATA
WHERE FIN_DATA_PGTO IS NULL;
UPDATE FIN_FINANCEIRO SET FIN_DATA_PGTO = NULL
WHERE FIN_CODIGO IN 
(
  SELECT CPG_FIN_CODIGO FROM CPG_CONTAS_PAGAR
  WHERE CPG_BCN_CODIGO IS NULL
);
/*[UPDATE]18*/
ALTER TABLE BCN_BAIXA_CONTAS ADD BCN_TIPO_CHEQUE BIT;
ALTER TABLE BCN_BAIXA_CONTAS ADD BCN_DESCRICAO VARCHAR(200);
CREATE TABLE FRN_FORNECEDORES (
  FRN_CODIGO INTEGER NOT NULL,
  FRN_NOME VARCHAR(60),
  CONSTRAINT PK_FRN_CODIGO PRIMARY KEY (FRN_CODIGO)
);
CREATE TABLE TAL_TALAO_CHEQUE(
  TAL_CODIGO INTEGER NOT NULL,
  TAL_EMP_CODIGO INTEGER,
  TAL_INICIO INTEGER,
  TAL_FIM INTEGER,
  TAL_ATUAL INTEGER,
  CONSTRAINT PK_TAL_CODIGO PRIMARY KEY(TAL_CODIGO),
  CONSTRAINT FK_TAL_EMP_CODIGO FOREIGN KEY (TAL_EMP_CODIGO) REFERENCES EMP_EMPRESAS (EMP_CODIGO)
);
ALTER TABLE CPG_CONTAS_PAGAR ADD CPG_FRN_CODIGO INTEGER;
/*[UPDATE]19*/
ALTER TABLE FRN_FORNECEDORES ADD FRN_TELEFONE VARCHAR(20);
ALTER TABLE FRN_FORNECEDORES ADD FRN_CNPJ VARCHAR(20);
/*[UPDATE]20*/
ALTER TABLE TAL_TALAO_CHEQUE ADD TAL_CCN_CODIGO INTEGER;
/*[UPDATE]21*/
ALTER TABLE EMP_EMPRESAS ADD EMP_CNPJ VARCHAR(20);
UPDATE EMP_EMPRESAS SET EMP_CNPJ = '09.627.923/0001-42' WHERE EMP_DESCRICAO = 'BISTECAO';
UPDATE EMP_EMPRESAS SET EMP_CNPJ = '0951253700090' WHERE EMP_DESCRICAO = 'HIPER';
UPDATE EMP_EMPRESAS SET EMP_CNPJ = '07.595.525/0001-66' WHERE EMP_DESCRICAO = 'CARNES 15';
UPDATE EMP_EMPRESAS SET EMP_CNPJ = '13.324.862/0001-11' WHERE EMP_DESCRICAO = 'PIRACICABA';
/*[UPDATE]22*/
ALTER TABLE FIN_FINANCEIRO ADD FIN_VALOR_NOTA NUMERIC(15,4);
UPDATE FIN_FINANCEIRO SET FIN_VALOR_NOTA = FIN_VALOR;
/*[UPDATE]23*/
UPDATE EMP_EMPRESAS SET EMP_CNPJ = '08.902.703/0001-17' WHERE EMP_DESCRICAO = 'COSTELÃO';
/*[UPDATE]24*/
CREATE TABLE CRT_CARTOES(
  CRT_CODIGO INTEGER NOT NULL,
  CRT_EMP_CODIGO INTEGER,
  CRT_DESCRICAO VARCHAR(40),
  CRT_NRDIAS INTEGER, 
  CRT_VENCIMENTOS VARCHAR(20),
  CRT_TAXA NUMERIC(15,4),
  CONSTRAINT PK_CRT_CODIGO PRIMARY KEY (CRT_CODIGO),
  CONSTRAINT FK_CRT_EMP_CODIGO FOREIGN KEY (CRT_EMP_CODIGO) REFERENCES EMP_EMPRESAS (EMP_CODIGO)
);
CREATE TABLE LNC_LANC_CARTOES(
  LNC_CODIGO INTEGER NOT NULL,
  LNC_CRT_CODIGO INTEGER,
  LNC_EMISSAO DATETIME,
  LNC_VENCIMENTO DATETIME,
  LNC_DATA_PGTO DATETIME,
  LNC_VALOR NUMERIC(15,4),
  LNC_VALOR_TAXA NUMERIC(15,4),
  LNC_VALOR_RECEBER NUMERIC(15,4),
  CONSTRAINT PK_LNC_CODIGO PRIMARY KEY (LNC_CODIGO),
  CONSTRAINT FK_LNC_CRT_CODIGO FOREIGN KEY (LNC_CRT_CODIGO) REFERENCES CRT_CARTOES (CRT_CODIGO)  
);
/*[UPDATE]25*/
ALTER TABLE FRM_FORMULARIOS ADD FRM_VALOR_CANCELADO NUMERIC(15,4);
/*[UPDATE]26*/
ALTER TABLE CRT_CARTOES ADD CRT_SEMANA INTEGER;
/*[UPDATE]27*/
CREATE TABLE SDC_SALDO_CONTAS(
  SDC_CODIGO INTEGER NOT NULL,  
  SDC_CCN_CODIGO INTEGER,
  SDC_DATA DATETIME,
  SDC_OPERACAO VARCHAR(60),
  SDC_ANTERIOR_CODIGO INTEGER,
  SDC_VALOR_LANCADO NUMERIC(15,4),  
  SDC_SALDO_ATUAL NUMERIC(15,4), 
  SDC_TIPO CHAR(1),
  CONSTRAINT PK_SDC_CODIGO PRIMARY KEY(SDC_CODIGO),
  CONSTRAINT FK_SDC_CCN_CODIGO FOREIGN KEY (SDC_CCN_CODIGO) REFERENCES CCN_CADASTRO_CONTAS (CCN_CODIGO),
  CONSTRAINT FK_SDC_ANTERIOR_CODIGO FOREIGN KEY (SDC_ANTERIOR_CODIGO) REFERENCES SDC_SALDO_CONTAS (SDC_CODIGO)
);
ALTER TABLE LNC_LANC_CARTOES ADD LNC_CCN_CODIGO INTEGER;
/*[UPDATE]28*/
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO CIELO',1,1.95);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO CIELO',1,3.26);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO REDECARD',1,2.6);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VISA VALE',1,6.5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DINN/REDSH/SICRED',1,2.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('HIPERCARD',1,2.95);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED',1,3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED-ALIM.',1,3.8);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SODEXO',1,6.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VEROCHEQUE',1,3.2);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDIALIMENTAÇÃO',1,5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO REDECARD',1,1.5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO REDECARD',1,1.64);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO CIELO',5,2);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO REDECARD',5,2);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO CIELO',5,3.8);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO REDECARD',5,3.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VISA VALE',5,6);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DINN/REDSH/SICRED',5,3.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('HIPERCARD',5,2.95);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED',5,3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED-ALIM.',5,3.8);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SODEXO',5,6.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('USECRED',5,5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO CIELO',3,1.92);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO REDECARD',3,1.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO CIELO',3,3.16);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO REDECARD',3,2.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VISA VALE',3,6);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DINN/REDSH/SICRED',3,2.2);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('HIPERCARD',3,2.95);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED',3,3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED-ALIM.',3,3.8);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SODEXO',3,6.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VEROCHEQUE',3,7.1);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDIALIMENTAÇÃO',3,5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO CIELO',4,2);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO REDECARD',4,1.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO CIELO',4,3.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO REDECARD',4,2.6);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VISA VALE',4,6);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DINN/REDSH/SICRED',4,2.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('HIPERCARD',4,2.95);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED',4,3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED-ALIM.',4,3.8);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SODEXO',4,6.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VEROCHEQUE',4,7.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDIALIMENTAÇÃO',4,5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO CIELO',2,2);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DÉBITO REDECARD',2,1.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO CIELO',2,3.5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VISA VALE',2,6.5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('DINN/REDSH/SICRED',2,2.4);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('HIPERCARD',2,2.95);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED',2,3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SOROCRED-ALIM.',2,3.8);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SODEXO',2,6.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('SODEXO/SMART',2,6.3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('VEROCHEQUE',2,7.1);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDIALIMENTAÇÃO',2,5);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO REDECARD',2,3);
INSERT INTO CRT_CARTOES (CRT_DESCRICAO,CRT_EMP_CODIGO,CRT_TAXA) VALUES ('CREDITO REDECARD',2,2.9);
/*[UPDATE]29*/
/*[UPDATE]30*/
ALTER TABLE CPG_CONTAS_PAGAR ADD CPG_OFICIAL BIT;
UPDATE CPG_CONTAS_PAGAR SET CPG_OFICIAL = 1;
/*[UPDATE]31*/
CREATE TABLE FNI_FINANCEIRO_ITEM(
  FNI_CODIGO INTEGER NOT NULL,
  FNI_FIN_CODIGO INTEGER,
  FNI_DESCRICAO VARCHAR(60),
  FNI_QTDE NUMERIC(15,4),
  FNI_VALOR_TOTAL NUMERIC(15,4),
  FNI_VALOR_UNITARIO NUMERIC (15,4),
  FNI_EXPRESSAO VARCHAR(60),
  CONSTRAINT PK_FNI_CODIGO PRIMARY KEY (FNI_CODIGO),
  CONSTRAINT FK_FNI_FIN_CODIGO FOREIGN KEY (FNI_FIN_CODIGO) REFERENCES FIN_FINANCEIRO (FIN_CODIGO)
);