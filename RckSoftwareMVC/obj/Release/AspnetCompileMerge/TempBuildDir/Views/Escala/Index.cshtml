@{
    var root_template = "../Templates/RCK/";
    ViewBag.Title = "Index";
}

<style type="text/css">
    .diasem {
        width:14%;
        float:left
    }
</style>

<div class="container">
    <div class="row">
        <div id="filtros" class="col-md-12 form-group">
            <div class="card form-group">
                <div class="card-body">
                    <h5 class="card-title">Período</h5>
                    <div class="row">
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <label>De</label>
                            <input type="text" class="form-control date" name="DataDe" value="@(Session["DataDe"]!=null?((DateTime)Session["DataDe"]).ToString("dd/MM/yyyy"):"")" />
                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <label>Até</label>
                            <input type="text" class="form-control date" name="DataAte" value="@(Session["DataAte"]!=null?((DateTime)Session["DataAte"]).ToString("dd/MM/yyyy"):"")" />
                        </div>
                    </div>
                    <br />
                    <h5 class="card-title">Dias de culto</h5>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="diasem"><input type="checkbox" name="dom" value="true" @(Session["dom"] != null && ((bool)Session["dom"]) ? "checked" : "") /> dom </div>
                            <div class="diasem"><input type="checkbox" name="seg" value="true" @(Session["seg"] != null && ((bool)Session["seg"]) ? "checked" : "") /> seg </div>
                            <div class="diasem"><input type="checkbox" name="ter" value="true" @(Session["ter"] != null && ((bool)Session["ter"]) ? "checked" : "") /> ter </div>
                            <div class="diasem"><input type="checkbox" name="qua" value="true" @(Session["qua"] != null && ((bool)Session["qua"]) ? "checked" : "") /> qua </div>
                            <div class="diasem"><input type="checkbox" name="qui" value="true" @(Session["qui"] != null && ((bool)Session["qui"]) ? "checked" : "") /> qui </div>
                            <div class="diasem"><input type="checkbox" name="sex" value="true" @(Session["sex"] != null && ((bool)Session["sex"]) ? "checked" : "") /> sex </div>
                            <div class="diasem"><input type="checkbox" name="sab" value="true" @(Session["sab"] != null && ((bool)Session["sab"]) ? "checked" : "") /> sab </div>

                        </div>
                        <div class="col-md-12">
                            <input type="checkbox" name="PermiteDuas" value="true" @(Session["PermiteDuas"] != null && ((bool)Session["PermiteDuas"]) ? "checked" : "" ) /> Duas por culto.<br />
                            <input type="checkbox" name="DiaSequencial" value="true" @(Session["DiaSequencial"] != null && ((bool)Session["DiaSequencial"]) ? "checked" : "" ) /> Sequencial por dia.
                        </div>





                        </div>
                    </div>
            </div>
            <div id="Irmas" class="form-group">
            </div>
            <div class="card">
                <div class="card-body">
                    <button class="btn btn-primary" onclick="Gerar()">Gerar</button>
                </div>
            </div>
        </div>
        
        <div id="voltar" class="col-md-12" style="display:none">
            <div class="card form-group" >
                <div class="card-body ">
                    <button class="btn btn-default" onclick="Voltar()">Exibir Filtros</button>
                    <button class="btn btn-default" onclick="window.print();">Imprimir</button>
                </div>
            </div>

        </div>

            
            
        
        <div id="escala" class="col-sm-12"></div>

    </div>
</div>

@section scripts{

    <script>
        $(document).ready(function () {
            rsp.get("#Irmas", "/Escala/Irmas", "#Irmas");
            $(".date").datepicker({ format: "dd/mm/yyyy", language: "pt-BR" });
        });

        function Gerar() {
            $("#filtros").css("display", "none");
            $("#voltar").css("display", "block");
            rsp.post("#filtros", "/Escala/Gerar", "#escala")
        }

        function Voltar() {
            $("#filtros").css("display", "block");
            $("#voltar").css("display", "none");
            $("#escala").html("");
        }
    </script>


}

